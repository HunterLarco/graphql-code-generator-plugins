# @eddeee888/gcg-typescript-resolver-files

## Contribution process

1. [Create issue outlining the problem](https://github.com/eddeee888/graphql-code-generator-plugins/issues/new)
2. Make changes
3. Add unit tests and [e2e tests](#testing)
4. Document new config option in package [README](./README.md)
5. Create changeset if require a new version change: `yarn changeset`
6. Create a PR

## Testing

### Unit Tests

Unit tests should be created next to the implementation e.g.

```markdown
functionA.ts
functionA.spec.ts # Here's the test file
```

Run the following command to run unit tests for this package:

```bash
nx test typescript-resolver-files
```

### E2E Test

#### Create new E2E Test

Run the following command to create new e2e test setup (with own `codegen.yml` and schema files) from template:

```bash
nx workspace-generator typescript-resolver-files-add-e2e-test <test-name-in-kebab-case>
```

#### Run E2E Test/s

The expected output of each test are the files generated by running codegen command, then committed.
In CI/CD, all e2e tests are run and if there is a difference between the generated version in CI vs committed version, it will fail.
In a way, this is similar to Jest's snapshot testing.

```bash
# Run one e2e test with no assertion
nx graphql-codegen typescript-resolver-files-e2e -c <test-name> --verbose

# Run all tests with no assertion
nx e2e-run typescript-resolver-files-e2e -c clean-run

# Run tests and assert. This is run in CI/CD.
nx e2e typescript-resolver-files-e2e -c clean-run
```

## TODOs

- [ ] Add Interface handler
